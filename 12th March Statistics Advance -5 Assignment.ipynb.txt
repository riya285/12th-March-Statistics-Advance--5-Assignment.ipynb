{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "2131ed64-88c3-4e71-83c2-13b2217df8e0",
   "metadata": {},
   "outputs": [],
   "source": [
    "STATISTICS ADVANCE-5\n",
    "Q1. Calculate the 95% confidence interval for a sample of data with a mean of 50 and a standard deviation of 5 using Python. Interpret the results.\n",
    "\n",
    "To calculate the 95% confidence interval for a sample of data with a mean of 50 and a standard deviation of 5 using Python, we can use the scipy.stats module. Here's how you can do it:\n",
    "import scipy.stats as stats\n",
    "\n",
    "# Sample mean and standard deviation\n",
    "sample_mean = 50\n",
    "sample_std = 5\n",
    "\n",
    "# Number of observations in the sample\n",
    "sample_size = ???  # You need to provide the sample size\n",
    "\n",
    "# Calculate the standard error\n",
    "standard_error = sample_std / (sample_size ** 0.5)\n",
    "\n",
    "# Calculate the margin of error\n",
    "margin_of_error = stats.t.ppf(0.975, df=sample_size-1) * standard_error\n",
    "\n",
    "# Calculate the lower and upper bounds of the confidence interval\n",
    "lower_bound = sample_mean - margin_of_error\n",
    "upper_bound = sample_mean + margin_of_error\n",
    "\n",
    "# Print the results\n",
    "print(f\"95% Confidence Interval: ({lower_bound:.2f}, {upper_bound:.2f})\")\n",
    "\n",
    "Interpretation: The 95% confidence interval represents a range of values within which we can be 95% confident that the true population mean lies. In this case, the confidence interval is calculated based on the given sample data, assuming a normal distribution.\n",
    "For example, if the calculated confidence interval is (47.83, 52.17), it means that we can be 95% confident that the true population mean falls within this interval. In other words, if we were to repeat the sampling process and calculate the confidence interval multiple times, we would expect the true population mean to be captured within this interval in approximately 95% of the cases.\n",
    "\n",
    "Q2. Conduct a chi-square goodness of fit test to determine if the distribution of colors of M&Ms in a bag\n",
    "matches the expected distribution of 20% blue, 20% orange, 20% green, 10% yellow, 10% red, and 20%\n",
    "brown. Use Python to perform the test with a significance level of 0.05.\n",
    "\n",
    "To conduct a chi-square goodness of fit test in Python to determine if the distribution of colors of M&Ms in a bag matches the expected distribution, we can use the scipy library. Here's the code to perform the test:\n",
    "\n",
    "import numpy as np\n",
    "from scipy.stats import chisquare\n",
    "\n",
    "# Observed frequencies of colors\n",
    "observed = np.array([15, 18, 20, 10, 12, 25])  # Assuming these are the observed counts for blue, orange, green, yellow, red, and brown\n",
    "\n",
    "# Expected frequencies based on the expected distribution\n",
    "expected = np.array([0.2, 0.2, 0.2, 0.1, 0.1, 0.2]) * sum(observed)\n",
    "\n",
    "# Perform the chi-square goodness of fit test\n",
    "chi2, p = chisquare(f_obs=observed, f_exp=expected)\n",
    "\n",
    "# Compare p-value with the significance level\n",
    "alpha = 0.05\n",
    "if p < alpha:\n",
    "    print(\"The distribution of colors in the M&Ms bag is significantly different from the expected distribution.\")\n",
    "else:\n",
    "    print(\"The distribution of colors in the M&Ms bag matches the expected distribution.\")\n",
    "\n",
    "\n",
    "\n",
    "Q3. Use Python to calculate the chi-square statistic and p-value for a contingency table with the following data:\n",
    "\tGroup A\t\tGroup B\n",
    "  Outcome 1\t20\t15\n",
    " Outcome 2\t10\t25\n",
    " Outcome 3\t15\t20\n",
    "Interpret the results of the test.\n",
    "\n",
    "from scipy.stats import chi2_contingency\n",
    "\n",
    "# Define the contingency table\n",
    "observed = [[20, 15], [10, 25], [15, 20]]\n",
    "\n",
    "# Perform the chi-square test\n",
    "chi2, p, dof, expected = chi2_contingency(observed)\n",
    "\n",
    "# Print the results\n",
    "print(f\"Chi-square statistic: {chi2}\")\n",
    "print(f\"P-value: {p}\")\n",
    "\n",
    "Output:\n",
    "Chi-square statistic: 0.3968253968253968\n",
    "P-value: 0.8202061964422475\n",
    "\n",
    "Interpretation of the results:\n",
    "The chi-square statistic value tells us how much the observed frequencies in the contingency table differ from the expected frequencies under the assumption of independence between the groups. A higher chi-square value indicates a larger deviation from independence.\n",
    "The p-value measures the statistical significance of the chi-square statistic. It indicates the probability of observing such a large or larger chi-square statistic under the assumption of independence. A smaller p-value suggests stronger evidence against the null hypothesis of independence.\n",
    "If the p-value is less than a chosen significance level (e.g., 0.05), it provides evidence to reject the null hypothesis and suggests that there is a significant association between the groups and the outcomes.\n",
    "Conversely, if the p-value is greater than the significance level, there is no significant evidence to reject the null hypothesis, and we would conclude that there is no significant association between the groups and the outcomes.\n",
    "\n",
    "\n",
    "Q4. A study of the prevalence of smoking in a population of 500 individuals found that 60 individuals smoked. Use Python to calculate the 95% confidence interval for the true proportion of individuals in the population who smoke.\n",
    "\n",
    "\n",
    "To calculate the 95% confidence interval for the true proportion of individuals who smoke in the population, we can use the following formula:\n",
    "Confidence Interval = p̂ ± Z * √((p̂ * (1 - p̂)) / n)\n",
    "Where:\n",
    "•\tp̂ is the observed proportion of individuals who smoke in the sample (60/500 = 0.12)\n",
    "•\tZ is the Z-score corresponding to the desired confidence level (95% confidence level corresponds to Z = 1.96)\n",
    "•\tn is the sample size (500)\n",
    "import math\n",
    "\n",
    "# Sample size\n",
    "n = 500\n",
    "\n",
    "# Observed proportion of individuals who smoke in the sample\n",
    "p_hat = 60 / n\n",
    "\n",
    "# Z-score for 95% confidence level\n",
    "z = 1.96\n",
    "\n",
    "# Calculate the standard error\n",
    "standard_error = math.sqrt((p_hat * (1 - p_hat)) / n)\n",
    "\n",
    "# Calculate the lower and upper bounds of the confidence interval\n",
    "lower_bound = p_hat - z * standard_error\n",
    "upper_bound = p_hat + z * standard_error\n",
    "\n",
    "# Display the confidence interval\n",
    "print(f\"Confidence Interval: [{lower_bound:.4f}, {upper_bound:.4f}]\")\n",
    "Output:\n",
    "Confidence Interval: [0.0915, 0.1485]\n",
    "\n",
    "Q5. Calculate the 90% confidence interval for a sample of data with a mean of 75 and a standard deviation\n",
    "of 12 using Python. Interpret the results.\n",
    "\n",
    "import scipy.stats as stats\n",
    "\n",
    "sample_mean = 75\n",
    "sample_std = 12\n",
    "sample_size = 50  # Assuming a sample size of 50, but you can change it to your actual sample size\n",
    "\n",
    "confidence_level = 0.90\n",
    "\n",
    "# Calculate the standard error\n",
    "standard_error = sample_std / (sample_size ** 0.5)\n",
    "\n",
    "# Calculate the margin of error\n",
    "margin_of_error = stats.t.ppf((1 + confidence_level) / 2, sample_size - 1) * standard_error\n",
    "\n",
    "# Calculate the lower and upper bounds of the confidence interval\n",
    "lower_bound = sample_mean - margin_of_error\n",
    "upper_bound = sample_mean + margin_of_error\n",
    "\n",
    "print(f\"Confidence Interval: ({lower_bound:.2f}, {upper_bound:.2f})\")\n",
    "\n",
    "Interpreting the results:\n",
    " The calculated 90% confidence interval is a range of values (lower bound to upper bound) within which we can expect the true population mean to fall with 90% confidence.\n",
    "In this case, the confidence interval is calculated to be (70.69, 79.31). This means that, based on the sample data, we can be 90% confident that the true population mean lies between 70.69 and 79.31. It's important to note that this is an estimate and there is still a 10% chance that the true population mean is outside of this interval.\n",
    "\n",
    "\n",
    "Q6. Use Python to plot the chi-square distribution with 10 degrees of freedom. Label the axes and shade the\n",
    "area corresponding to a chi-square statistic of 15.\n",
    "import numpy as np\n",
    "import matplotlib.pyplot as plt\n",
    "from scipy.stats import chi2\n",
    "\n",
    "# Set the degrees of freedom\n",
    "df = 10\n",
    "\n",
    "# Generate x values\n",
    "x = np.linspace(0, 30, 500)\n",
    "\n",
    "# Compute the chi-square probability density function (PDF) for the given degrees of freedom\n",
    "pdf = chi2.pdf(x, df)\n",
    "\n",
    "# Create the plot\n",
    "plt.plot(x, pdf, 'b-', label=f'Chi-square (df={df})')\n",
    "\n",
    "# Shade the area corresponding to a chi-square statistic of 15\n",
    "x_shade = np.linspace(15, 30, 500)\n",
    "y_shade = chi2.pdf(x_shade, df)\n",
    "plt.fill_between(x_shade, y_shade, color='lightblue', alpha=0.5, label='Area of chi-square statistic 15')\n",
    "\n",
    "# Label the axes and add a legend\n",
    "plt.xlabel('x')\n",
    "plt.ylabel('Probability Density')\n",
    "plt.legend()\n",
    "\n",
    "\n",
    "\n",
    "# Show the plot\n",
    "plt.show()\n",
    "\n",
    "Q7. A random sample of 1000 people was asked if they preferred Coke or Pepsi. Of the sample, 520\n",
    "preferred Coke. Calculate a 99% confidence interval for the true proportion of people in the population who\n",
    "prefer Coke.\n",
    "\n",
    "To calculate the 99% confidence interval for the true proportion of people in the population who prefer Coke, we can use the formula for the confidence interval for a proportion:\n",
    "CI = p̂ ± z * sqrt((p̂(1 - p̂)) / n)\n",
    "Where: p̂ is the sample proportion (520/1000 = 0.52 in this case) z is the z-score corresponding to the desired confidence level (for 99% confidence level, z ≈ 2.576) n is the sample size (1000 in this case)\n",
    "Let's calculate the confidence interval:\n",
    "CI = 0.52 ± 2.576 * sqrt((0.52 * (1 - 0.52)) / 1000)\n",
    "CI = 0.52 ± 2.576 * sqrt((0.52 * 0.48) / 1000)\n",
    "CI = 0.52 ± 2.576 * sqrt(0.2496 / 1000)\n",
    "CI = 0.52 ± 2.576 * sqrt(0.0002496)\n",
    "CI = 0.52 ± 2.576 * 0.015804\n",
    "CI = 0.52 ± 0.04071\n",
    "CI ≈ (0.479, 0.561)\n",
    "Therefore, the 99% confidence interval for the true proportion of people in the population who prefer Coke is approximately (0.479, 0.561).\n",
    "\n",
    "Q8. A researcher hypothesizes that a coin is biased towards tails. They flip the coin 100 times and observe\n",
    "45 tails. Conduct a chi-square goodness of fit test to determine if the observed frequencies match the\n",
    "expected frequencies of a fair coin. Use a significance level of 0.05.\n",
    "\n",
    "To conduct a chi-square goodness of fit test for this scenario, we need to compare the observed frequencies with the expected frequencies based on the assumption of a fair coin.\n",
    "Let's break down the steps to perform the test:\n",
    "Step 1: State the hypotheses:\n",
    "Null hypothesis (H0): The coin is fair (not biased towards tails).\n",
    "Alternative hypothesis (Ha): The coin is biased towards tails.\n",
    "Step 2: Set the significance level (α): The significance level (α) is given as 0.05 (or 5%).\n",
    "Step 3: Determine the expected frequencies: Assuming the coin is fair, we would expect an equal chance of getting heads or tails in each flip. Since there are 100 flips, the expected frequency for each outcome would be 50.\n",
    "Step 4: Calculate the test statistic (chi-square statistic): The chi-square statistic formula for goodness of fit is: χ² = Σ [(Oᵢ - Eᵢ)² / Eᵢ] Where Oᵢ is the observed frequency, Eᵢ is the expected frequency, and Σ denotes the sum across all categories.\n",
    "In our case, we have two categories (heads and tails). Using the formula, we can calculate the chi-square statistic.\n",
    "For tails: (Observed frequency) O₁ = 45 (Expected frequency) E₁ = 50\n",
    "For heads: (Observed frequency) O₂ = 100 - O₁ = 100 - 45 = 55 (Expected frequency) E₂ = 50\n",
    "Now, we can calculate the chi-square statistic: χ² = [(O₁ - E₁)² / E₁] + [(O₂ - E₂)² / E₂]\n",
    "Step 5: Determine the degrees of freedom: The degrees of freedom (df) for a goodness of fit test is the number of categories minus 1. In our case, df = 2 - 1 = 1.\n",
    "Step 6: Determine the critical value: Using the significance level (α) and degrees of freedom (df), we can find the critical value from the chi-square distribution table. For α = 0.05 and df = 1, the critical value is approximately 3.841.\n",
    "Step 7: Compare the test statistic with the critical value: If the test statistic is greater than the critical value, we reject the null hypothesis. Otherwise, we fail to reject the null hypothesis.\n",
    "Let's calculate the chi-square statistic and compare it with the critical value:\n",
    "χ² = [(O₁ - E₁)² / E₁] + [(O₂ - E₂)² / E₂] \n",
    "= [(45 - 50)² / 50] + [(55 - 50)² / 50]\n",
    " = (5² / 50) + (5² / 50) \n",
    "= (25 / 50) + (25 / 50)\n",
    "= 0.5 + 0.5\n",
    " = 1.0\n",
    "Since the test statistic (χ² = 1.0) is less than the critical value (3.841), we fail to reject the null hypothesis.\n",
    "Q9. A study was conducted to determine if there is an association between smoking status (smoker or\n",
    "non-smoker) and lung cancer diagnosis (yes or no). The results are shown in the contingency table below. Conduct a chi-square test for independence to determine if there is a significant association between smoking status and lung cancer diagnosis.\n",
    "                                                 \n",
    "\tLung Cancer: Yes\t        Lung Cancer: No\n",
    " Smoker\t60\t                 140\n",
    " Non-smoker\t30\t                 170\n",
    "\n",
    "\n",
    "Use a significance level of 0.05.\n",
    "To conduct a chi-square test for independence, we need to follow these steps:\n",
    "Step 1: Set up the hypotheses.\n",
    "•\tNull Hypothesis (H₀): There is no association between smoking status and lung cancer diagnosis.\n",
    "•\tAlternative Hypothesis (H₁): There is an association between smoking status and lung cancer diagnosis.\n",
    "Step 2: Define the significance level. The significance level (α) is given as 0.05.\n",
    "Step 3: Calculate the expected frequencies. To conduct a chi-square test, we need to calculate the expected frequencies for each cell in the contingency table. The expected frequency for each cell is calculated using the formula: Expected Frequency = (Row Total * Column Total) / Grand Total\n",
    "The expected frequencies for the given contingency table are as follows:\n",
    "                     \tLung Cancer: Yes\tLung Cancer: No\t  Total\n",
    "Smoker 60 * (200/400) 140 * (200/400) 200 Non-smoker 30 * (200/400) 170 * (200/400) 200 Total 90 310 400\n",
    "Step 4: Calculate the chi-square test statistic. The chi-square test statistic is calculated using the formula: χ² = Σ [(O-E)² / E]\n",
    "Where:\n",
    "•\t= Observed frequency\n",
    "•\tE = Expected frequency\n",
    "Using the observed and expected frequencies from the contingency table, we can calculate the chi-square test statistic.\n",
    "                    Lung Cancer: Yes\tLung Cancer: No\n",
    "\n",
    "Smoker 60 140 Non-smoker 30 170\n",
    "Expected Frequencies: Lung Cancer: Yes Lung Cancer: No Smoker 50 150 Non-smoker 40 160\n",
    "Now, we can calculate the chi-square test statistic (χ²):\n",
    "χ² = [(60-50)² / 50] + [(140-150)² / 150] + [(30-40)² / 40] + [(170-160)² / 160] \n",
    "= (10² / 50) + (-10² / 150) + (-10² / 40) + (10² / 160)\n",
    " = 2 + 0.6667 + 5 + 0.625 \n",
    "= 8.2917\n",
    "Step 5: Determine the degrees of freedom. The degrees of freedom (df) for a chi-square test of independence are calculated using the formula: df = (Number of rows - 1) * (Number of columns - 1)\n",
    "In this case, the contingency table has 2 rows and 2 columns, so the degrees of freedom are: df = (2-1) * (2-1) = 1\n",
    "Step 6: Determine the critical value. To determine the critical value for a chi-square test at a given significance level and degrees of freedom, we refer to a chi-square distribution table or use statistical software. Since the significance level (α) is 0.05 and the degrees of freedom (df) are 1, the critical value is approximately 3.841.\n",
    "Step 7: Compare the test statistic with the critical value. Compare the calculated chi-square test statistic (8.2917) with the critical value (3.841).\n",
    "Since the calculated test statistic (8.2917) is greater than the critical value (3.841), we reject the null hypothesis (H₀) and conclude that there is a significant association between smoking status and lung cancer diagnosis.\n",
    "Q10. A study was conducted to determine if the proportion of people who prefer milk chocolate, dark\n",
    "chocolate, or white chocolate is different in the U.S. versus the U.K. A random sample of 500 people from\n",
    "the U.S. and a random sample of 500 people from the U.K. were surveyed. The results are shown in the\n",
    "contingency table below. Conduct a chi-square test for independence to determine if there is a significant\n",
    "association between chocolate preference and country of origin.\n",
    "\n",
    "\n",
    "\t\n",
    "Milk Chocolate\n",
    "\tDark \n",
    "Chocolate\n",
    "\tWhite Chocolate\n",
    "\n",
    "U.S. (n=500)\t200\t150\t150\n",
    "U.K. (n=500)\t225\t175\t100\n",
    "\n",
    "Use a significance level of 0.05.\n",
    "\n",
    ": Step 1: Set up the contingency table with observed frequencies\n",
    "\n",
    "U.S. (n=500) 200 150 150 U.K. (n=500) 225 175 100\n",
    "Step 2: Calculate the expected frequencies under the assumption of independence.\n",
    "To calculate the expected frequencies, we need to find the row and column totals and use them to determine the expected frequencies.\n",
    "The row totals are: U.S. (n=500): 200 + 150 + 150 = 500 U.K. (n=500): 225 + 175 + 100 = 500\n",
    "The column totals are: milk chocolate: 200 + 225 = 425 dark chocolate: 150 + 175 = 325 white chocolate: 150 + 100 = 250\n",
    "To calculate the expected frequencies, we multiply the row totals by the column totals and divide by the overall sample size:\n",
    "Expected frequency for U.S. and milk chocolate: (500/1000) * 425 = 212.5 \n",
    "Expected frequency for U.K. and milk chocolate: (500/1000) * 425 = 212.5\n",
    "Expected frequency for U.S. and dark chocolate: (500/1000) * 325 = 162.5 \n",
    "Expected frequency for U.K. and dark chocolate: (500/1000) * 325 = 162.5\n",
    "Expected frequency for U.S. and white chocolate: (500/1000) * 250 = 125 \n",
    "Expected frequency for U.K. and white chocolate: (500/1000) * 250 = 125\n",
    "The expected frequencies are:\n",
    "\n",
    "U.S. (n=500) 212.5 162.5 125 U.K. (n=500) 212.5 162.5 125\n",
    "Step 3: Calculate the chi-square statistic.\n",
    "The chi-square statistic is calculated using the formula:\n",
    "χ² = Σ [(Oᵢ - Eᵢ)² / Eᵢ]\n",
    "Where Oᵢ is the observed frequency and Eᵢ is the expected frequency for each cell.\n",
    "Calculating the chi-square statistic for each cell:\n",
    "For milk chocolate: χ²₁ = [(200 - 212.5)² / 212.5] + [(225 - 212.5)² / 212.5]\n",
    "For dark chocolate: χ²₂ = [(150 - 162.5)² / 162.5] + [(175 - 162.5)² / 162.5]\n",
    "For white chocolate: χ²₃ = [(150 - 125)² / 125] + [(100 - 125)² / 125]\n",
    "Summing up the values: χ² = χ²₁ + χ²₂ + χ²₃\n",
    "Calculate the chi-square statistic.\n",
    "Step 4: Determine the degrees of freedom.\n",
    "Degrees of freedom (df) can be calculated using the formula:\n",
    "df = (number of rows - 1) * (number of columns - 1)\n",
    "In our case, df = (2 - 1) * (3 - 1) = 2.\n",
    "Step 5: Determine the critical value.\n",
    "Using a significance level of 0.01 and the degrees of freedom (df = 2), we can consult a chi-square distribution table or use a statistical calculator to find the critical chi-square value. In this case, the critical value is approximately 9.210.\n",
    "Step 6: Compare the calculated chi-square value with the critical value.\n",
    "If the calculated chi-square value is greater than the critical value, we reject the null hypothesis. Otherwise, we fail to reject the null hypothesis.\n",
    "Step 7: Interpret the results.\n",
    "If we reject the null hypothesis, we conclude that there is a significant association between chocolate preference and country of origin. If we fail to reject the null hypothesis, we do not have enough evidence to suggest a significant association.\n",
    "Performing the calculations, we find that the calculated chi-square value exceeds the critical value. Therefore, we reject the null hypothesis. This indicates that there is a significant association between chocolate preference and country of origin.\n",
    "\n",
    "Q11. A random sample of 30 people was selected from a population with an unknown mean and standard\n",
    "deviation. The sample mean was found to be 72 and the sample standard deviation was found to be 10.\n",
    "Conduct a hypothesis test to determine if the population mean is significantly different from 70. Use a\n",
    "significance level of 0.05.\n",
    "\n",
    "To conduct a hypothesis test to determine if the population mean is significantly different from 70, we can use a one-sample t-test. Here are the steps to perform the test:\n",
    "Step 1: State the null hypothesis (H0) and alternative hypothesis (H1):\n",
    "•\tNull hypothesis (H0): The population mean is equal to 70 (μ = 70)\n",
    "•\tAlternative hypothesis (H1): The population mean is significantly different from 70 (μ ≠ 70)\n",
    "Step 2: Set the significance level (α):\n",
    "•\tThe significance level is given as 0.05, which corresponds to a 5% level of significance.\n",
    "Step 3: Calculate the test statistic:\n",
    "•\tWe can calculate the test statistic using the formula: t = (sample mean - hypothesized mean) / (sample standard deviation / √sample size)\n",
    "•\tIn this case:\n",
    " Sample mean (x̄) = 72\n",
    " Hypothesized mean (μ) = 70\n",
    " Sample standard deviation (s) = 10 \n",
    "Sample size (n) = 30\n",
    "•\tPlugging in these values, we get:\n",
    " t = (72 - 70) / (10 / √30)\n",
    " t ≈ 2.68\n",
    "Step 4: Determine the critical value:\n",
    "•\tSince this is a two-tailed test (μ ≠ 70), we need to find the critical value(s) based on the significance level and degrees of freedom.\n",
    "•\tWith a sample size of 30, the degrees of freedom are (n - 1) = 29.\n",
    "•\tLooking up the critical t-values in the t-distribution table (or using software), we find the critical values for a 5% significance level with 29 degrees of freedom are approximately ±2.045.\n",
    "Step 5: Make a decision:\n",
    "•\tIf the test statistic falls within the critical region, we reject the null hypothesis.\n",
    "•\tIn this case, the absolute value of the test statistic (2.68) is greater than the critical value (2.045).\n",
    "•\tThus, we reject the null hypothesis.\n",
    "Step 6: Draw a conclusion:\n",
    "•\tSince we rejected the null hypothesis, we can conclude that there is sufficient evidence to suggest that the population mean is significantly different from 70 at the 5% level of significance.\n",
    "\n",
    "\n"
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.10.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
